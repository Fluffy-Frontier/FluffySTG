<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <base href="../../" />
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;mob&#x2F;dead&#x2F;new_player - &#x2F;tg&#x2F; Station 13</title>
</head>
<body>
<header>
    <a href="index.html">&#x2F;tg&#x2F; Station 13</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="mob/dead/new_player.html#var">Var Details</a> - <a href="mob/dead/new_player.html#proc">Proc Details</a></header>
<main>
<h1>new_player <aside>/<a href="mob.html">mob</a>/<a href="mob/dead/new_player.html">dead/new_player</a></aside>
        
    
            <a href="https://github.com/Fluffy-Frontier/Fluffy-STG/blob/c9013dd6775be2d14e03fddad88c91d14bbe1047/code/modules/mob/dead/new_player/new_player.dm#L1">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;dead&#x2F;new_player&#x2F;new_player.dm 1"/></a></h1>

<table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr>
            <tr><th><a href="mob/dead/new_player.html#var/ineligible_for_roles">ineligible_for_roles</a></th><td>Used to make sure someone doesn't get spammed with messages if they're ineligible for roles.</td></tr>
            <tr><th><a href="mob/dead/new_player.html#var/new_character">new_character</a></th><td>For instant transfer once the round is set up</td></tr>
            <tr><th><a href="mob/dead/new_player.html#var/spawning">spawning</a></th><td>Referenced when you want to delete the new_player later on in the code.</td></tr>
            <tr><th><a href="mob/dead/new_player.html#var/title_screen_is_ready">title_screen_is_ready</a></th><td>Title screen is ready to receive signals</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="mob/dead/new_player.html#proc/create_character">create_character</a></th><td>Creates, assigns and returns the new_character to spawn as. Assumes a valid mind.assigned_role exists.</td></tr>
            <tr><th><a href="mob/dead/new_player.html#proc/handle_player_polling">handle_player_polling</a></th><td>Shows a list of currently running polls a player can vote/has voted on</td></tr>
            <tr><th><a href="mob/dead/new_player.html#proc/hide_title_screen">hide_title_screen</a></th><td>Removes the titlescreen entirely from a mob.</td></tr>
            <tr><th><a href="mob/dead/new_player.html#proc/open_interview">open_interview</a></th><td>Verb for opening the existing interview, or if relevant creating a new interview if possible.</td></tr>
            <tr><th><a href="mob/dead/new_player.html#proc/playerpolls">playerpolls</a></th><td>Shows the player a list of current polls, if any.</td></tr>
            <tr><th><a href="mob/dead/new_player.html#proc/poll_player">poll_player</a></th><td>Redirects a player to the correct poll window based on poll type.</td></tr>
            <tr><th><a href="mob/dead/new_player.html#proc/poll_player_irv">poll_player_irv</a></th><td>Shows voting window for an IRV type poll, listing its options and relevant details.</td></tr>
            <tr><th><a href="mob/dead/new_player.html#proc/poll_player_multi">poll_player_multi</a></th><td>Shows voting window for a multiple choice type poll, listing its options and relevant details.</td></tr>
            <tr><th><a href="mob/dead/new_player.html#proc/poll_player_option">poll_player_option</a></th><td>Shows voting window for an option type poll, listing its options and relevant details.</td></tr>
            <tr><th><a href="mob/dead/new_player.html#proc/poll_player_rating">poll_player_rating</a></th><td>Shows voting window for a rating type poll, listing its options and relevant details.</td></tr>
            <tr><th><a href="mob/dead/new_player.html#proc/poll_player_text">poll_player_text</a></th><td>Shows voting window for a text response type poll, listing its relevant details.</td></tr>
            <tr><th><a href="mob/dead/new_player.html#proc/register_for_interview">register_for_interview</a></th><td>Prepares a client for the interview system, and provides them with a new interview</td></tr>
            <tr><th><a href="mob/dead/new_player.html#proc/select_job">select_job</a></th><td>Selects a new job or gives random if unset.</td></tr>
            <tr><th><a href="mob/dead/new_player.html#proc/server_swap">server_swap</a></th><td>Allows the player to select a server to join from any loaded servers.</td></tr>
            <tr><th><a href="mob/dead/new_player.html#proc/show_title_screen">show_title_screen</a></th><td>Shows the titlescreen to a new player.</td></tr>
            <tr><th><a href="mob/dead/new_player.html#proc/update_title_screen">update_title_screen</a></th><td>Hard updates the title screen HTML, it causes visual glitches if used.</td></tr>
            <tr><th><a href="mob/dead/new_player.html#proc/vote_on_poll_handler">vote_on_poll_handler</a></th><td>Runs some poll validation before a vote is processed.</td></tr>
            <tr><th><a href="mob/dead/new_player.html#proc/vote_on_poll_irv">vote_on_poll_irv</a></th><td>Processes vote form data and saves results to the database for an IRV type poll.</td></tr>
            <tr><th><a href="mob/dead/new_player.html#proc/vote_on_poll_multi">vote_on_poll_multi</a></th><td>Processes vote form data and saves results to the database for a multiple choice type poll.</td></tr>
            <tr><th><a href="mob/dead/new_player.html#proc/vote_on_poll_option">vote_on_poll_option</a></th><td>Processes vote form data and saves results to the database for an option type poll.</td></tr>
            <tr><th><a href="mob/dead/new_player.html#proc/vote_on_poll_rating">vote_on_poll_rating</a></th><td>Processes vote form data and saves results to the database for a rating type poll.</td></tr>
            <tr><th><a href="mob/dead/new_player.html#proc/vote_on_poll_text">vote_on_poll_text</a></th><td>Processes response form data and saves results to the database for a text response type poll.</td></tr></table>
    <h2 id="var">Var Details</h2><h3 id="var/ineligible_for_roles"><aside class="declaration">var </aside>ineligible_for_roles
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/Fluffy-Frontier/Fluffy-STG/blob/c9013dd6775be2d14e03fddad88c91d14bbe1047/code/modules/mob/dead/new_player/new_player.dm#L15">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;dead&#x2F;new_player&#x2F;new_player.dm 15"/></a></h3>
        <p>Used to make sure someone doesn't get spammed with messages if they're ineligible for roles.</p><h3 id="var/new_character"><aside class="declaration">var </aside>new_character
            <aside>&ndash; /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a></aside>
        
    
            <a href="https://github.com/Fluffy-Frontier/Fluffy-STG/blob/c9013dd6775be2d14e03fddad88c91d14bbe1047/code/modules/mob/dead/new_player/new_player.dm#L13">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;dead&#x2F;new_player&#x2F;new_player.dm 13"/></a></h3>
        <p>For instant transfer once the round is set up</p><h3 id="var/spawning"><aside class="declaration">var </aside>spawning
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/Fluffy-Frontier/Fluffy-STG/blob/c9013dd6775be2d14e03fddad88c91d14bbe1047/code/modules/mob/dead/new_player/new_player.dm#L11">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;dead&#x2F;new_player&#x2F;new_player.dm 11"/></a></h3>
        <p>Referenced when you want to delete the new_player later on in the code.</p><h3 id="var/title_screen_is_ready"><aside class="declaration">var </aside>title_screen_is_ready
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/Fluffy-Frontier/Fluffy-STG/blob/c9013dd6775be2d14e03fddad88c91d14bbe1047/modular_skyrat/modules/title_screen/code/new_player.dm#L3">
        <img src="git.png" width="16" height="16" title="modular_skyrat&#x2F;modules&#x2F;title_screen&#x2F;code&#x2F;new_player.dm 3"/></a></h3>
        <p>Title screen is ready to receive signals</p><h2 id="proc">Proc Details</h2><h3 id="proc/create_character"><aside class="declaration">proc </aside>create_character<aside>(/<a href="atom.html">atom</a>/destination) 
        
    
            <a href="https://github.com/Fluffy-Frontier/Fluffy-STG/blob/c9013dd6775be2d14e03fddad88c91d14bbe1047/code/modules/mob/dead/new_player/new_player.dm#L389">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;dead&#x2F;new_player&#x2F;new_player.dm 389"/></a></aside>
        </h3>
        <p>Creates, assigns and returns the new_character to spawn as. Assumes a valid mind.assigned_role exists.</p><h3 id="proc/handle_player_polling"><aside class="declaration">proc </aside>handle_player_polling<aside>() 
        
    
            <a href="https://github.com/Fluffy-Frontier/Fluffy-STG/blob/c9013dd6775be2d14e03fddad88c91d14bbe1047/code/modules/mob/dead/new_player/poll.dm#L14">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;dead&#x2F;new_player&#x2F;poll.dm 14"/></a></aside>
        </h3>
        <p>Shows a list of currently running polls a player can vote/has voted on</p><h3 id="proc/hide_title_screen"><aside class="declaration">proc </aside>hide_title_screen<aside>() 
        
    
            <a href="https://github.com/Fluffy-Frontier/Fluffy-STG/blob/c9013dd6775be2d14e03fddad88c91d14bbe1047/modular_skyrat/modules/title_screen/code/new_player.dm#L159">
        <img src="git.png" width="16" height="16" title="modular_skyrat&#x2F;modules&#x2F;title_screen&#x2F;code&#x2F;new_player.dm 159"/></a></aside>
        </h3>
        <p>Removes the titlescreen entirely from a mob.</p><h3 id="proc/open_interview"><aside class="declaration">proc </aside>open_interview<aside>() 
        
    
            <a href="https://github.com/Fluffy-Frontier/Fluffy-STG/blob/c9013dd6775be2d14e03fddad88c91d14bbe1047/code/modules/interview/interview.dm#L101">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;interview&#x2F;interview.dm 101"/></a></aside>
        </h3>
        <p>Verb for opening the existing interview, or if relevant creating a new interview if possible.</p><h3 id="proc/playerpolls"><aside class="declaration">proc </aside>playerpolls<aside>() 
        
    
            <a href="https://github.com/Fluffy-Frontier/Fluffy-STG/blob/c9013dd6775be2d14e03fddad88c91d14bbe1047/modular_skyrat/modules/title_screen/code/new_player.dm#L238">
        <img src="git.png" width="16" height="16" title="modular_skyrat&#x2F;modules&#x2F;title_screen&#x2F;code&#x2F;new_player.dm 238"/></a></aside>
        </h3>
        <p>Shows the player a list of current polls, if any.</p><h3 id="proc/poll_player"><aside class="declaration">proc </aside>poll_player<aside>(/<a href="datum.html">datum</a>/<a href="datum/poll_question.html">poll_question</a>/poll) 
        
    
            <a href="https://github.com/Fluffy-Frontier/Fluffy-STG/blob/c9013dd6775be2d14e03fddad88c91d14bbe1047/code/modules/mob/dead/new_player/poll.dm#L29">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;dead&#x2F;new_player&#x2F;poll.dm 29"/></a></aside>
        </h3>
        <p>Redirects a player to the correct poll window based on poll type.</p><h3 id="proc/poll_player_irv"><aside class="declaration">proc </aside>poll_player_irv<aside>(/<a href="datum.html">datum</a>/<a href="datum/poll_question.html">poll_question</a>/poll) 
        
    
            <a href="https://github.com/Fluffy-Frontier/Fluffy-STG/blob/c9013dd6775be2d14e03fddad88c91d14bbe1047/code/modules/mob/dead/new_player/poll.dm#L233">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;dead&#x2F;new_player&#x2F;poll.dm 233"/></a></aside>
        </h3>
        <p>Shows voting window for an IRV type poll, listing its options and relevant details.</p>
<p>If already voted on, the options are sorted how a player voted for them, otherwise they are randomly shuffled.</p><h3 id="proc/poll_player_multi"><aside class="declaration">proc </aside>poll_player_multi<aside>(/<a href="datum.html">datum</a>/<a href="datum/poll_question.html">poll_question</a>/poll) 
        
    
            <a href="https://github.com/Fluffy-Frontier/Fluffy-STG/blob/c9013dd6775be2d14e03fddad88c91d14bbe1047/code/modules/mob/dead/new_player/poll.dm#L189">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;dead&#x2F;new_player&#x2F;poll.dm 189"/></a></aside>
        </h3>
        <p>Shows voting window for a multiple choice type poll, listing its options and relevant details.</p>
<p>If already voted on, the options a player voted for are pre-selected.</p><h3 id="proc/poll_player_option"><aside class="declaration">proc </aside>poll_player_option<aside>(/<a href="datum.html">datum</a>/<a href="datum/poll_question.html">poll_question</a>/poll) 
        
    
            <a href="https://github.com/Fluffy-Frontier/Fluffy-STG/blob/c9013dd6775be2d14e03fddad88c91d14bbe1047/code/modules/mob/dead/new_player/poll.dm#L53">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;dead&#x2F;new_player&#x2F;poll.dm 53"/></a></aside>
        </h3>
        <p>Shows voting window for an option type poll, listing its options and relevant details.</p>
<p>If already voted on, the option a player voted for is pre-selected.</p><h3 id="proc/poll_player_rating"><aside class="declaration">proc </aside>poll_player_rating<aside>(/<a href="datum.html">datum</a>/<a href="datum/poll_question.html">poll_question</a>/poll) 
        
    
            <a href="https://github.com/Fluffy-Frontier/Fluffy-STG/blob/c9013dd6775be2d14e03fddad88c91d14bbe1047/code/modules/mob/dead/new_player/poll.dm#L134">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;dead&#x2F;new_player&#x2F;poll.dm 134"/></a></aside>
        </h3>
        <p>Shows voting window for a rating type poll, listing its options and relevant details.</p>
<p>If already voted on, the options a player voted for are pre-selected.</p><h3 id="proc/poll_player_text"><aside class="declaration">proc </aside>poll_player_text<aside>(/<a href="datum.html">datum</a>/<a href="datum/poll_question.html">poll_question</a>/poll) 
        
    
            <a href="https://github.com/Fluffy-Frontier/Fluffy-STG/blob/c9013dd6775be2d14e03fddad88c91d14bbe1047/code/modules/mob/dead/new_player/poll.dm#L97">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;dead&#x2F;new_player&#x2F;poll.dm 97"/></a></aside>
        </h3>
        <p>Shows voting window for a text response type poll, listing its relevant details.</p>
<p>If already responded to, the saved response of a player is shown.</p><h3 id="proc/register_for_interview"><aside class="declaration">proc </aside>register_for_interview<aside>() 
        
    
            <a href="https://github.com/Fluffy-Frontier/Fluffy-STG/blob/c9013dd6775be2d14e03fddad88c91d14bbe1047/code/modules/mob/dead/new_player/new_player.dm#L475">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;dead&#x2F;new_player&#x2F;new_player.dm 475"/></a></aside>
        </h3>
        <p>Prepares a client for the interview system, and provides them with a new interview</p>
<p>This proc will both prepare the user by removing all verbs from them, as well as
giving them the interview form and forcing it to appear.</p><h3 id="proc/select_job"><aside class="declaration">proc </aside>select_job<aside>(job) 
        
    
            <a href="https://github.com/Fluffy-Frontier/Fluffy-STG/blob/c9013dd6775be2d14e03fddad88c91d14bbe1047/modular_skyrat/modules/title_screen/code/new_player.dm#L170">
        <img src="git.png" width="16" height="16" title="modular_skyrat&#x2F;modules&#x2F;title_screen&#x2F;code&#x2F;new_player.dm 170"/></a></aside>
        </h3>
        <p>Selects a new job or gives random if unset.</p><h3 id="proc/server_swap"><aside class="declaration">proc </aside>server_swap<aside>() 
        
    
            <a href="https://github.com/Fluffy-Frontier/Fluffy-STG/blob/c9013dd6775be2d14e03fddad88c91d14bbe1047/modular_skyrat/modules/title_screen/code/new_player.dm#L216">
        <img src="git.png" width="16" height="16" title="modular_skyrat&#x2F;modules&#x2F;title_screen&#x2F;code&#x2F;new_player.dm 216"/></a></aside>
        </h3>
        <p>Allows the player to select a server to join from any loaded servers.</p><h3 id="proc/show_title_screen"><aside class="declaration">proc </aside>show_title_screen<aside>() 
        
    
            <a href="https://github.com/Fluffy-Frontier/Fluffy-STG/blob/c9013dd6775be2d14e03fddad88c91d14bbe1047/modular_skyrat/modules/title_screen/code/new_player.dm#L130">
        <img src="git.png" width="16" height="16" title="modular_skyrat&#x2F;modules&#x2F;title_screen&#x2F;code&#x2F;new_player.dm 130"/></a></aside>
        </h3>
        <p>Shows the titlescreen to a new player.</p><h3 id="proc/update_title_screen"><aside class="declaration">proc </aside>update_title_screen<aside>() 
        
    
            <a href="https://github.com/Fluffy-Frontier/Fluffy-STG/blob/c9013dd6775be2d14e03fddad88c91d14bbe1047/modular_skyrat/modules/title_screen/code/new_player.dm#L145">
        <img src="git.png" width="16" height="16" title="modular_skyrat&#x2F;modules&#x2F;title_screen&#x2F;code&#x2F;new_player.dm 145"/></a></aside>
        </h3>
        <p>Hard updates the title screen HTML, it causes visual glitches if used.</p><h3 id="proc/vote_on_poll_handler"><aside class="declaration">proc </aside>vote_on_poll_handler<aside>(/<a href="datum.html">datum</a>/<a href="datum/poll_question.html">poll_question</a>/poll, href_list) 
        
    
            <a href="https://github.com/Fluffy-Frontier/Fluffy-STG/blob/c9013dd6775be2d14e03fddad88c91d14bbe1047/code/modules/mob/dead/new_player/poll.dm#L321">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;dead&#x2F;new_player&#x2F;poll.dm 321"/></a></aside>
        </h3>
        <p>Runs some poll validation before a vote is processed.</p>
<p>Checks a player is who they claim to be and that a poll is actually still running.
Also loads the vote_id to pass onto single-option and text polls.
Increments the vote count when successful.</p><h3 id="proc/vote_on_poll_irv"><aside class="declaration">proc </aside>vote_on_poll_irv<aside>(/<a href="datum.html">datum</a>/<a href="datum/poll_question.html">poll_question</a>/poll, /list/href_list, admin_rank, sql_poll_id) 
        
    
            <a href="https://github.com/Fluffy-Frontier/Fluffy-STG/blob/c9013dd6775be2d14e03fddad88c91d14bbe1047/code/modules/mob/dead/new_player/poll.dm#L542">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;dead&#x2F;new_player&#x2F;poll.dm 542"/></a></aside>
        </h3>
        <p>Processes vote form data and saves results to the database for an IRV type poll.</p><h3 id="proc/vote_on_poll_multi"><aside class="declaration">proc </aside>vote_on_poll_multi<aside>(/<a href="datum.html">datum</a>/<a href="datum/poll_question.html">poll_question</a>/poll, /list/href_list, admin_rank, sql_poll_id) 
        
    
            <a href="https://github.com/Fluffy-Frontier/Fluffy-STG/blob/c9013dd6775be2d14e03fddad88c91d14bbe1047/code/modules/mob/dead/new_player/poll.dm#L495">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;dead&#x2F;new_player&#x2F;poll.dm 495"/></a></aside>
        </h3>
        <p>Processes vote form data and saves results to the database for a multiple choice type poll.</p><h3 id="proc/vote_on_poll_option"><aside class="declaration">proc </aside>vote_on_poll_option<aside>(/<a href="datum.html">datum</a>/<a href="datum/poll_question.html">poll_question</a>/poll, href_list, admin_rank, sql_poll_id, vote_id) 
        
    
            <a href="https://github.com/Fluffy-Frontier/Fluffy-STG/blob/c9013dd6775be2d14e03fddad88c91d14bbe1047/code/modules/mob/dead/new_player/poll.dm#L388">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;dead&#x2F;new_player&#x2F;poll.dm 388"/></a></aside>
        </h3>
        <p>Processes vote form data and saves results to the database for an option type poll.</p><h3 id="proc/vote_on_poll_rating"><aside class="declaration">proc </aside>vote_on_poll_rating<aside>(/<a href="datum.html">datum</a>/<a href="datum/poll_question.html">poll_question</a>/poll, /list/href_list, admin_rank, sql_poll_id) 
        
    
            <a href="https://github.com/Fluffy-Frontier/Fluffy-STG/blob/c9013dd6775be2d14e03fddad88c91d14bbe1047/code/modules/mob/dead/new_player/poll.dm#L452">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;dead&#x2F;new_player&#x2F;poll.dm 452"/></a></aside>
        </h3>
        <p>Processes vote form data and saves results to the database for a rating type poll.</p><h3 id="proc/vote_on_poll_text"><aside class="declaration">proc </aside>vote_on_poll_text<aside>(href_list, admin_rank, sql_poll_id, vote_id) 
        
    
            <a href="https://github.com/Fluffy-Frontier/Fluffy-STG/blob/c9013dd6775be2d14e03fddad88c91d14bbe1047/code/modules/mob/dead/new_player/poll.dm#L420">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;dead&#x2F;new_player&#x2F;poll.dm 420"/></a></aside>
        </h3>
        <p>Processes response form data and saves results to the database for a text response type poll.</p></main>
<footer>
    tgstation.dme
    <a href="https://github.com/Fluffy-Frontier/Fluffy-STG/tree/c9013dd6775be2d14e03fddad88c91d14bbe1047">c9013dd</a>
        (master) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/src/dmdoc/README.md">dmdoc 1.4.1</a></footer>
</body>
</html>
